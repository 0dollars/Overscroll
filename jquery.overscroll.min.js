/*
 * jQuery.overscroll JavaScript Plugin v1.2.1
 * http://azoffdesign.com/plugins/js/overscroll
 *
 * Intended for use with the latest jQuery
 * http://code.jquery.com/jquery-latest.min.js
 *
 * Copyright 2010, Jonathan Azoff
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: Wednesday, March 10th 2010
 *
 * Changelog:
 *
 * 1.2.1
 *   - Made "smart" click support "smarter" :)
 *   - Added JSLint validation to the build process
 *	 - Removed unused variables and cleaned up code
 * 1.2.0
 *   - Updated license to match the jQuery license (thanks Jesse)
 *   - Added vertical scroll wheel support (thanks Pwakman)
 *   - Added support to ignore proprietary drag events (thanks Raphael)
 *   - Added "smart" click support for clickable elements (thanks Mark)
 * 1.1.2
 *   - Added the correct click handling to the scroll operation (thanks Evilc)
 * 1.1.1
 *   - Made scroll a bit smoother (thanks Nick)
 * 1.1.0
 *   - Optimized scrolling-internals so that it is both smoother and more memory efficient 
 *     (relies entirely on event model now). 
 *   - Added the ability to scroll horizontally (if the overscrolled element has wider children).
 * 1.0.3
 *   - Extended the easing object, as opposed to the $ object (thanks Andre)
 * 1.0.2
 *   - Fixed timer to actually return milliseconds (thanks Don)
 * 1.0.1
 *   - Fixed bug with interactive elements and made scrolling smoother (thanks Paul and Aktar)
 *
 * Notes:
 * 
 * In order to get the most out of this plugin, make sure to only apply it to parent elements 
 * that are smaller than the collective width and/or height then their children. This way,
 * you can see the actual scroll effect as you pan the element.
 *
 * You MUST have two cursors to get the hand to show up, open, and close during the panning 
 * process. You can put the cursors wherever you want, just make sure to reference them in 
 * the code below. I have provided initial static linkages to these cursors for your 
 * convenience (see below).
 *
 */
"use strict";(function(a,b){b=a.fn.overscroll=function(){return this.each(b.init)};a.extend(b,{icons:{open:"http://static.azoffdesign.com/misc/open.cur",closed:"http://static.azoffdesign.com/misc/closed.cur"},events:{wheel:"mousewheel DOMMouseScroll",start:"select mousedown touchstart",drag:"mousemove touchmove",end:"mouseup mouseleave touchend",ignored:"dragstart drag"},init:function(d,e,c){d={};e=a(this).css({cursor:"url("+b.icons.open+"), default",overflow:"hidden"}).bind(b.events.wheel,d,b.wheel).bind(b.events.start,d,b.start).bind(b.events.end,d,b.stop).bind(b.events.ignored,function(){return false});d.target=e},wheel:function(c,d){if(c.wheelDelta){d=c.wheelDelta/12000}if(c.detail){d=-c.detail/3}c.data.target.stop(true,true).animate({scrollTop:this.scrollTop-(d*b.constants.wheelDeltaMod)},{queue:false,duration:b.constants.scrollDuration,easing:"cubicEaseOut"});return false},start:function(c){c.data.target.css("cursor","url("+b.icons.closed+"), default").bind(b.events.drag,c.data,b.drag).stop(true,true);c.data.position={x:c.pageX,y:c.pageY};c.data.capture={};c.data.isDragging=false;return false},drag:function(c){this.scrollLeft-=(c.pageX-c.data.position.x);this.scrollTop-=(c.pageY-c.data.position.y);c.data.position.x=c.pageX;c.data.position.y=c.pageY;if(typeof c.data.capture.index==="undefined"||--c.data.capture.index===0){c.data.isDragging=true;c.data.capture={x:c.pageX,y:c.pageY,index:b.constants.captureThreshold}}return true},stop:function(e){if(typeof e.data.position!=="undefined"){e.data.target.css("cursor","url("+b.icons.open+"), default").unbind(b.events.drag,b.drag);if(e.data.isDragging){var d=b.constants.scrollDeltaMod*(e.pageX-e.data.capture.x),c=b.constants.scrollDeltaMod*(e.pageY-e.data.capture.y);e.data.target.stop(true,true).animate({scrollLeft:this.scrollLeft-d,scrollTop:this.scrollTop-c},{queue:false,duration:b.constants.scrollDuration,easing:"cubicEaseOut"})}e.data.capture=e.data.position=undefined}return !e.data.isDragging},clickableRegExp:(/input|textarea|select|a/i),constants:{scrollDuration:800,captureThreshold:4,wheelDeltaMod:-200,scrollDeltaMod:4.7}});a.extend(a.easing,{cubicEaseOut:function(f,h,d,e){var g=d+e;return g*((f=f/1-1)*f*f+1)+d}})})(jQuery);